<?xml version="1.0" encoding="utf-8"?>

<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:sfButton="clr-namespace:Syncfusion.Maui.Toolkit.Buttons;assembly=Syncfusion.Maui.Toolkit"
             xmlns:controls="clr-namespace:IVCNetMaui.Controls"
             x:Class="IVCNetMaui.Controls.IconButtonControl"
             x:Name="This"
             x:DataType="controls:IconButtonControl">
    
    <ContentView.Resources>
        <ResourceDictionary>
            <Style TargetType="sfButton:SfButton">
                <Setter Property="Opacity" Value="1"></Setter>
                <Setter Property="CornerRadius" Value="4" />
                <Setter Property="Background" Value="#9021252A" />
                <Setter Property="TextColor" Value="White" />
                <Setter Property="VisualStateManager.VisualStateGroups">
                    <VisualStateGroupList>
                        <VisualStateGroup x:Name="CommonStates">
                            <VisualState x:Name="Normal" />
                            <VisualState x:Name="Pressed">
                                <VisualState.Setters>
                                    <Setter Property="Opacity" Value="0.5" />
                                </VisualState.Setters>
                            </VisualState>
                            <VisualState x:Name="Disabled">
                                <VisualState.Setters>
                                    <Setter Property="Opacity" Value="0.5" />
                                </VisualState.Setters>
                            </VisualState>
                            <VisualState x:Name="Checked">
                                <VisualState.Setters>
                                    <Setter Property="Background" Value="#90ffffff" />
                                    <Setter Property="TextColor" Value="{StaticResource Gray950}" />
                                </VisualState.Setters>
                            </VisualState>
                        </VisualStateGroup>
                    </VisualStateGroupList>
                </Setter>
            </Style>
        </ResourceDictionary>
    </ContentView.Resources>
    
    <sfButton:SfButton Command="{Binding Command}" IsCheckable="{Binding IsCheckable}" IsChecked="{Binding IsChecked}" BindingContext="{x:Reference This}">
        <sfButton:SfButton.Content>
            <DataTemplate x:DataType="controls:IconButtonControl">
                <Grid Padding="2">
                    <Image WidthRequest="32" HeightRequest="32">
                        <Image.Source>
                            <FontImageSource Glyph="{Binding Glyph}" Color="{Binding Source={RelativeSource AncestorType={x:Type sfButton:SfButton}}, Path=TextColor}"/>
                        </Image.Source>
                    </Image>
                </Grid>
            </DataTemplate>
        </sfButton:SfButton.Content>
    </sfButton:SfButton>
</ContentView>