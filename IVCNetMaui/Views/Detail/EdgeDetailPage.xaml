<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:syncfusion="clr-namespace:Syncfusion.Maui.Toolkit.TabView;assembly=Syncfusion.Maui.Toolkit"
             xmlns:material="http://schemas.enisn-projects.io/dotnet/maui/uraniumui/material"
             xmlns:controls="clr-namespace:IVCNetMaui.Controls"
             xmlns:viewModels="clr-namespace:IVCNetMaui.ViewModels.Detail"
             x:Class="IVCNetMaui.Views.Detail.EdgeDetailPage"
             Title="Moxa 1200 [Ver. 2.9.1.0]">
    <Shell.BackButtonBehavior>
        <BackButtonBehavior TextOverride=""/>
    </Shell.BackButtonBehavior>

    <ContentPage.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Resources/Styles/MenuPageStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>

            <ControlTemplate x:Key="IoTSummary">
                <Grid ColumnDefinitions="*, *, *" Style="{StaticResource SummaryGrid}">
                    <VerticalStackLayout Style="{StaticResource SummaryStack}">
                        <Label Text="Total" Style="{StaticResource SummarySecondary}"/>
                        <Label Text="1000" Style="{StaticResource SummaryPrimary}"/>
                    </VerticalStackLayout>

                    <VerticalStackLayout Grid.Column="1" Style="{StaticResource SummaryStack}">
                        <Label Text="Up" Style="{StaticResource SummarySecondary}"/>
                        <Label Text="500" Style="{StaticResource SummaryPrimary}"/>
                    </VerticalStackLayout>

                    <VerticalStackLayout Grid.Column="2" Style="{StaticResource SummaryStack}">
                        <Label Text="Activated" Style="{StaticResource SummarySecondary}"/>
                        <Label Text="250" Style="{StaticResource SummaryPrimary}"/>
                    </VerticalStackLayout>
                </Grid>
            </ControlTemplate>

            <ControlTemplate x:Key="IoTHeader" x:DataType="controls:AccordionControl">
                <Grid ColumnDefinitions="*, Auto" Margin="0, 0, 12, 0">
                    <Label Text="Camera" Style="{StaticResource SectionTitle}"/>
                    <Label Text="2 Activated" Grid.Column="1" TextColor="{StaticResource Gray700}" Style="{StaticResource SummarySecondary}" VerticalTextAlignment="Center"/>
                </Grid>
            </ControlTemplate>

            <DataTemplate x:Key="IoTCard" x:DataType="x:String">
                <Grid ColumnDefinitions="*, 80" ColumnSpacing="8" Padding="12, 12">
                    <Label Text="DC Cam1 Thermal  #ID" Style="{StaticResource SummaryPrimary}" VerticalTextAlignment="Center"/>
                    <Border Grid.Column="1" StrokeShape="RoundRectangle 20"  HeightRequest="24">
                        <Label Text="Unknown" HorizontalTextAlignment="Center" VerticalTextAlignment="Center" FontSize="12" TextColor="{StaticResource Gray700}"/>
                    </Border>
                </Grid>
            </DataTemplate>
        </ResourceDictionary>
    </ContentPage.Resources>
    <syncfusion:SfTabView>
        <syncfusion:SfTabView.Items>
            <!--Health Monitor Tab-->
            <syncfusion:SfTabItem Header="Health Monitor">
                <ScrollView>
                    <controls:HeathMonitorSummaryControl Style="{StaticResource MainPadding}" NavigateToSystemCommand="{Binding NavigateToHealthMonitorCommand}"/>
                </ScrollView>
            </syncfusion:SfTabItem>

            <!--IoT Tab-->
            <syncfusion:SfTabItem Header="IoT">
                <VerticalStackLayout Style="{StaticResource MainPadding}" Spacing="16">
                    <controls:AccordionControl>
                        <controls:AccordionControl.HeaderContent>
                            <ControlTemplate>
                                <Grid ColumnDefinitions="*, Auto" Margin="0, 0, 12, 0">
                                    <Label Text="Camera" Style="{StaticResource SectionTitle}"/>
                                    <Label Text="2 Activated" Grid.Column="1" TextColor="{StaticResource Gray700}" Style="{StaticResource SummarySecondary}" VerticalTextAlignment="Center"/>
                                </Grid>
                            </ControlTemplate>
                        </controls:AccordionControl.HeaderContent>
                        <controls:AccordionControl.BodyContent>
                            <ControlTemplate>
                                <CollectionView ItemTemplate="{StaticResource IoTCard}" 
                                                        ItemsSource="{Binding x:DataType='viewModels:EdgeDetailViewModel', Source={RelativeSource AncestorType={x:Type viewModels:EdgeDetailViewModel}}, Path=Cameras}"/>
                            </ControlTemplate>
                        </controls:AccordionControl.BodyContent>
                    </controls:AccordionControl>

                    <controls:AccordionControl>
                        <controls:AccordionControl.HeaderContent>
                            <ControlTemplate>
                                <Grid ColumnDefinitions="*, Auto" Margin="0, 0, 12, 0">
                                    <Label Text="Modbus Device" Style="{StaticResource SectionTitle}"/>
                                    <Label Text="2 Activated" Grid.Column="1" TextColor="{StaticResource Gray700}" Style="{StaticResource SummarySecondary}" VerticalTextAlignment="Center"/>
                                </Grid>
                            </ControlTemplate>
                        </controls:AccordionControl.HeaderContent>
                        <controls:AccordionControl.BodyContent>
                            <ControlTemplate>
                                <CollectionView ItemTemplate="{StaticResource IoTCard}" 
                                                        ItemsSource="{Binding x:DataType='viewModels:EdgeDetailViewModel', Source={RelativeSource AncestorType={x:Type viewModels:EdgeDetailViewModel}}, Path=Cameras}"/>
                            </ControlTemplate>
                        </controls:AccordionControl.BodyContent>
                    </controls:AccordionControl>

                    <controls:AccordionControl>
                        <controls:AccordionControl.HeaderContent>
                            <ControlTemplate>
                                <Grid ColumnDefinitions="*, Auto" Margin="0, 0, 12, 0">
                                    <Label Text="Weather Station" Style="{StaticResource SectionTitle}"/>
                                    <Label Text="2 Activated" Grid.Column="1" TextColor="{StaticResource Gray700}" Style="{StaticResource SummarySecondary}" VerticalTextAlignment="Center"/>
                                </Grid>
                            </ControlTemplate>
                        </controls:AccordionControl.HeaderContent>
                        <controls:AccordionControl.BodyContent>
                            <ControlTemplate>
                                <CollectionView ItemTemplate="{StaticResource IoTCard}" 
                                                        ItemsSource="{Binding x:DataType='viewModels:EdgeDetailViewModel', Source={RelativeSource AncestorType={x:Type viewModels:EdgeDetailViewModel}}, Path=Cameras}"/>
                            </ControlTemplate>
                        </controls:AccordionControl.BodyContent>
                    </controls:AccordionControl>
                </VerticalStackLayout>
            </syncfusion:SfTabItem>
        </syncfusion:SfTabView.Items>
    </syncfusion:SfTabView>
       

</ContentPage>